<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <!-- Fallback for a specific font -->
  <match target="pattern">
    <test name="family" compare="eq">
      <string>Segoe UI</string>
    </test>
    <edit name="family" mode="append">
      <string>Noto Sans</string>
      <string>DejaVu Sans</string>
    </edit>
  </match>

  <!-- Global fallback -->
  <match target="pattern">
    <edit name="family" mode="append_last">
      <string>Noto Sans</string>
      <string>DejaVu Sans</string>
    </edit>
  </match>

  <!-- Japanese fallback for sans-serif -->
  <match target="pattern">
    <test name="family"><string>sans-serif</string></test>
    <test name="lang" compare="contains"><string>ja</string></test>
    <edit name="family" mode="prepend">
      <string>Noto Sans CJK JP</string>
    </edit>
  </match>

  <!-- Serif -->
  <alias>
    <family>serif</family>
    <prefer>
      <family>Cochineal</family>
      <family>Noto Sans CJK JP</family>
    </prefer>
  </alias>

  <!-- Sans-serif -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Libertinus Sans</family>
      <family>Noto Sans CJK JP</family>
    </prefer>
  </alias>

  <!-- Monospace -->
  <alias>
    <family>monospace</family>
    <prefer>
      <family>IosevkaRikai Nerd Font</family>
    </prefer>
  </alias>


  <!-- These are mostly for vikunja -->
  <!-- Replace Open Sans with Libertinus Sans everywhere -->
  <match target="pattern">
    <test name="family" compare="eq">
      <string>Open Sans</string>
    </test>
    <edit name="family" mode="assign" binding="strong">
      <string>Libertinus Sans</string>
    </edit>
  </match>


  <!-- Replace Quicksand with Libertinus Sans everywhere -->
  <match target="pattern">
    <test name="family" compare="eq">
      <string>Quicksand</string>
    </test>
    <edit name="family" mode="assign" binding="strong">
      <string>Libertinus Sans</string>
    </edit>
  </match>
</fontconfig>
